namespace drr.standards.iosco.upi
version "${project.version}"

import cdm.base.staticdata.asset.common.*

import drr.regulation.common.*

reporting rule UniqueProductIdentifier from TransactionReportInstruction: <"Unique product identifier">
    extract TradeForEvent
    then extract tradableProduct -> product -> contractualProduct -> productIdentifier
    then filter source = ProductIdTypeEnum -> UPI
    then only-element
    then extract identifier
